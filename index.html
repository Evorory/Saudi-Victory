<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Victory Light â€” Saudi Victory ðŸ‡¸ðŸ‡¦</title>
<style>
  :root{
    --bg:#000;
    --green:#00d34a;
    --soft: rgba(0,211,74,0.12);
  }
  html,body{height:100%;margin:0;font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;background:var(--bg);color:var(--green)}
  .wrap{
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    gap:18px;
    overflow:hidden;
    position:relative;
  }

  .beam{
    position:absolute;
    top:-40%;
    left:-40%;
    width:160%;
    height:200%;
    background:linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,211,74,0.06) 40%, rgba(0,211,74,0.18) 50%, rgba(0,211,74,0.06) 60%, rgba(0,0,0,0) 100%);
    transform:translateX(-120deg) rotate(-12deg);
    filter: blur(24px) brightness(1.2);
    animation: sweep 3.8s linear infinite;
    pointer-events:none;
  }

  @keyframes sweep {
    0% { transform: translateX(-120%) rotate(-12deg); opacity:0; }
    10% { opacity:1; }
    45% { transform: translateX(120%) rotate(-12deg); opacity:1; }
    80% { opacity:0.6; }
    100% { transform: translateX(260%) rotate(-12deg); opacity:0; }
  }

  .title{
    text-align:center;
    font-weight:800;
    letter-spacing:2px;
    text-shadow: 0 0 12px rgba(0,211,74,0.8), 0 0 28px rgba(0,211,74,0.18);
  }
  .big {
    font-size: calc(28px + 6vw);
    line-height:1;
    transition: all .6s ease;
    transform-origin:center;
  }

  .small {
    font-size:18px;
    opacity:0.85;
  }

  .sub {
    margin-top:6px;
    font-size:14px;
    color:rgba(0,211,74,0.85);
  }

  .btns{
    display:flex;
    gap:10px;
    margin-top:6px;
  }

  .btn{
    padding:8px 14px;
    border-radius:8px;
    background:transparent;
    border:1px solid rgba(0,211,74,0.22);
    color:var(--green);
    cursor:pointer;
    backdrop-filter: blur(4px);
  }
  .btn:active{transform:translateY(1px)}

  footer { position:absolute; bottom:10px; width:100%; text-align:center; color: rgba(150,255,180,0.25); font-size:12px; }

  /* small responsive tweaks */
  @media (max-width:420px){ .small{font-size:15px} .big{font-size:34px} .btn{padding:6px 10px} }
</style>
</head>
<body>
<div class="wrap" id="wrap">
  <div class="beam" id="beam"></div>

  <div class="title">
    <div class="big" id="mainText">Ù†ØµØ±</div>
    <div class="small sub" id="subText">Ù…Ø¨Ø±ÙˆÙƒ Ù„Ù…Ù†ØªØ®Ø¨Ù†Ø§ â€” Saudi National Team ðŸ‡¸ðŸ‡¦</div>
  </div>

  <div class="btns">
    <button class="btn" id="toggleSound">Toggle Sound</button>
    <button class="btn" id="replay">Replay Effect</button>
    <button class="btn" id="download">Download Image</button>
  </div>

  <footer>Share this: <span id="shareLink">--</span></footer>
</div>

<script>
/* Light-of-victory single-file: easy to host on GitHub Pages */
let mainText = document.getElementById('mainText');
let sub = document.getElementById('subText');
let beam = document.getElementById('beam');
let soundOn = true;
let usedOnce = false;

function playSweep() {
  // flash + text transform + short sound
  beam.style.animation = 'none';
  // restart animation
  void beam.offsetWidth;
  beam.style.animation = null;

  mainText.style.transition = 'transform .7s ease, text-shadow .7s ease, opacity .7s ease';
  mainText.style.transform = 'scale(1.05)';
  mainText.style.opacity = '1';
  mainText.style.textShadow = '0 0 18px rgba(0,211,74,1), 0 0 40px rgba(0,211,74,0.3)';

  if(soundOn) playToneSeq();

  // sequence: show "Ù†ØµØ±" -> then "Saudi Glory" (English) then back to Arabic mixed
  if(!usedOnce) {
    setTimeout(()=>{ mainText.textContent = 'Saudi Glory ðŸ‡¸ðŸ‡¦'; mainText.style.fontSize='calc(18px + 5vw)'; usedOnce = true; }, 900);
    setTimeout(()=>{ mainText.textContent = 'Ù†ØµØ±'; mainText.style.fontSize='calc(28px + 6vw)'; }, 2600);
  } else {
    // if replay, quick toggle effect
    setTimeout(()=>{ mainText.style.transform='scale(1)'; mainText.style.textShadow='0 0 12px rgba(0,211,74,0.8)'; }, 900);
  }
}

/* simple celebratory tones using WebAudio */
function playToneSeq(){
  try{
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const notes = [880, 1047, 1175, 880]; // A5, C6, D6, A5
    let t = 0;
    for(let i=0;i<notes.length;i++){
      playTone(ctx, notes[i], 0.18, t);
      t += 0.22;
    }
    // close context after a while (some browsers require resume)
    setTimeout(()=>{ try{ ctx.close(); } catch(e){} }, 2000);
  }catch(e){}
}

function playTone(ctx, freq, dur=0.2, delay=0){
  let o = ctx.createOscillator();
  let g = ctx.createGain();
  o.type = 'sine';
  o.frequency.value = freq;
  o.connect(g);
  g.connect(ctx.destination);
  g.gain.setValueAtTime(0.0001, ctx.currentTime + delay);
  g.gain.exponentialRampToValueAtTime(0.2, ctx.currentTime + delay + 0.02);
  o.start(ctx.currentTime + delay);
  g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + delay + dur);
  o.stop(ctx.currentTime + delay + dur + 0.02);
}

document.getElementById('toggleSound').addEventListener('click', ()=>{
  soundOn = !soundOn;
  document.getElementById('toggleSound').textContent = soundOn ? 'Sound: ON' : 'Sound: OFF';
});

document.getElementById('replay').addEventListener('click', ()=>{ playSweep(); });

/* download snapshot as image */
document.getElementById('download').addEventListener('click', async ()=>{
  try {
    const el = document.getElementById('wrap');
    const rect = el.getBoundingClientRect();
    // render to canvas using foreignObject (works in modern browsers)
    const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${rect.width}' height='${rect.height}'>
      <foreignObject width='100%' height='100%'>
        ${new XMLSerializer().serializeToString(el)}
      </foreignObject>
    </svg>`;
    const blob = new Blob([svg], {type:'image/svg+xml;charset=utf-8'});
    const url = URL.createObjectURL(blob);
    const img = new Image();
    img.onload = ()=> {
      const c = document.createElement('canvas');
      c.width = rect.width; c.height = rect.height;
      const ctx = c.getContext('2d');
      ctx.fillStyle = '#000'; ctx.fillRect(0,0,c.width,c.height);
      ctx.drawImage(img,0,0);
      URL.revokeObjectURL(url);
      c.toBlob(b=>{
        const a = document.createElement('a');
        a.href = URL.createObjectURL(b);
        a.download = 'saudi-victory.png';
        a.click();
      });
    };
    img.src = url;
  } catch (e) {
    alert('Download not supported in this browser.');
  }
});

/* show share link */
const repoUser = location.hostname.endsWith('github.io') ? location.pathname.split('/')[1] || 'Evorory' : 'Evorory';
const repoName = 'Saudi-Victory';
document.getElementById('shareLink').textContent = `https://${location.hostname.includes('github.io') ? location.hostname : (repoUser + '.github.io/' + repoName)}`;

/* start automatic first sweep */
setTimeout(()=>{ playSweep(); }, 600);
</script>
</body>
</html>